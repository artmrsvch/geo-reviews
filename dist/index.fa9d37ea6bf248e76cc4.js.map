{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","ymaps","ready","init","modal","document","querySelector","otziv","storage","localStorage","data","thisAdress","thisCoords","placeObject","Array","customItemContentLayout","templateLayoutFactory","createClass","build","superclass","this","addEventListener","onCounterClick","clear","removeEventListener","e","preventDefault","findName","target","previousElementSibling","textContent","reviewModal","eachLi","myMap","balloon","close","JSON","parse","undefined","Map","center","zoom","events","add","innerHTML","getModal","place","keeper","clusterer","getGeoObjects","forEach","obj","properties","_data","reviews","geometry","_coordinates","coords","geocode","then","res","firstGeoObject","geoObjects","getAddressLine","adres","createPlacemark","adress","arrRev","arcivedDate","comentDate","formatDateBaloon","Date","mark","Placemark","adressReview","date","preset","push","coord","review","stringify","template","Handlebars","compile","psd","position","df","moces","event","dragElem","style","getCoords","shiftX","pageX","left","shiftY","pageY","top","moveAt","onMouseMove","onmouseup","onmousemove","oncontextmenu","cmenu","elem","box","getBoundingClientRect","pageYOffset","pageXOffset","className","nowDate","formatDateModal","area","dateModal","arrTemp","templateOtz","psdOtz","targ","console","log","dd","getDate","mm","getMonth","yy","getFullYear","se","getSeconds","mi","getMinutes","hr","getHours","Clusterer","clusterDisableClickZoom","clusterOpenBalloonOnClick","clusterBalloonContentLayout","clusterBalloonItemContentLayout","clusterBalloonPanelMaxMapArea","clusterBalloonContentLayoutWidth","clusterBalloonContentLayoutHeight","clusterBalloonPagerSize","thismark"],"mappings":"aACE,IAAIA,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GAAW,CAC9B,OAAOF,EAAiBE,GAAUC,QAGnC,IAAIC,EAASJ,EAAiBE,GAAY,CACzCG,EAAGH,EACHI,EAAG,MACHH,QAAS,IAIVI,EAAQL,GAAUM,KAAKJ,EAAOD,QAASC,EAAQA,EAAOD,QAASF,GAG/DG,EAAOE,EAAI,KAGX,OAAOF,EAAOD,QAKfF,EAAoBQ,EAAIF,EAGxBN,EAAoBS,EAAIV,EAGxBC,EAAoBU,EAAI,SAASR,EAASS,EAAMC,GAC/C,IAAIZ,EAAoBa,EAAEX,EAASS,GAAO,CACzCG,OAAOC,eAAeb,EAASS,EAAM,CAAEK,WAAY,KAAMC,IAAKL,MAKhEZ,EAAoBkB,EAAI,SAAShB,GAChC,UAAUiB,SAAW,aAAeA,OAAOC,YAAa,CACvDN,OAAOC,eAAeb,EAASiB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,MAAO,QAQvDrB,EAAoBsB,EAAI,SAASD,EAAOE,GACvC,GAAGA,EAAO,EAAGF,EAAQrB,EAAoBqB,GACzC,GAAGE,EAAO,EAAG,OAAOF,EACpB,GAAIE,EAAO,UAAaF,IAAU,UAAYA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MACvB1B,EAAoBkB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,WAAY,KAAMK,MAAOA,IAChE,GAAGE,EAAO,UAAYF,GAAS,SAAU,IAAI,IAAIM,KAAON,EAAOrB,EAAoBU,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRzB,EAAoB6B,EAAI,SAAS1B,GAChC,IAAIS,EAAST,GAAUA,EAAOqB,WAC7B,SAASM,IAAe,OAAO3B,EAAO,YACtC,SAAS4B,IAAqB,OAAO5B,GACtCH,EAAoBU,EAAEE,EAAQ,IAAKA,GACnC,OAAOA,GAIRZ,EAAoBa,EAAI,SAASmB,EAAQC,GAAY,OAAOnB,OAAOoB,UAAUC,eAAe5B,KAAKyB,EAAQC,IAGzGjC,EAAoBoC,EAAI,GAIxB,OAAOpC,EAAoBA,EAAoBqC,EAAI,I,+BClFrD,+BACAC,MAAMC,MAAMC,GAEZ,SAASA,IAEL,IAAMC,EAAQC,SAASC,cAAc,YACrC,IAAMC,EAAQF,SAASC,cAAc,UACrC,IAAMjB,EAASgB,SAASC,cAAc,WAEtC,IAAIE,EAAUC,aACd,IAAIC,EACJ,IAAIC,EACJ,IAAIC,EACJ,IAAIC,EAAc,IAAIC,MACtB,IAAMC,EAA0Bd,MAAMe,sBAAsBC,YACxD,iCACI,sCACI,iGACA,+FACA,8EACJ,SACA,wEACJ,SAAU,CACNC,MAAO,SAAS,IACZH,EAAwBI,WAAWD,MAAMhD,KAAKkD,MAC9Cf,SAASC,cAAc,UAAUe,iBAAiB,QAASD,KAAKE,iBAEpEC,MAAO,SAAS,IACZlB,SAASC,cAAc,UAAUkB,oBAAoB,QAASJ,KAAKE,gBACnEP,EAAwBI,WAAWI,MAAMrD,KAAKkD,OAElDE,eAAgB,SAAS,EAACG,GACtBA,EAAEC,iBACF,IAAI3B,EAAI4B,EAASF,EAAEG,OAAOC,uBAAuBC,aACjDC,EAAYN,EAAEG,OAAOE,YAAa/B,GAClCiC,EAAOP,EAAEG,OAAOE,aAChBG,EAAMC,QAAQC,WAI1B,IACIzB,EAAO0B,KAAKC,MAAM7B,EAAQE,MAC5B,MAAOe,GACLf,EAAO4B,UAEX,IAAML,EAAQ,IAAIhC,MAAMsC,IAAI,OAAQ,CAChCC,OAAQ,CAAC,WAAW,YACpBC,KAAM,KAGVR,EAAMS,OAAOC,IAAI,QAAS,SAAUlB,GAChC,GAAIpC,EAAOuD,WAAa,GAAI,CACxBvD,EAAOuD,UAAY,GACnBC,EAAUpB,OACP,CACHoB,EAAUpB,MAGlB,SAASE,EAAUmB,GACf,IAAIC,EAASC,EAAUC,gBACvB,IAAIhE,EAEJ8D,EAAOG,QAAQ,SAAAC,GACX,GAAIL,GAASK,EAAIC,WAAWC,MAAMC,QAAQR,MAAO,CAC7C7D,EAAIkE,EAAII,SAASC,gBAGzB,OAAOvE,EAEX,SAAS4D,EAAUpB,GACf,IAAIgC,EAAShC,EAAE7C,IAAI,UACfqB,MAAMyD,QAAQD,GACbE,KAAK,SAAUC,GACZ,IAAIC,EAAiBD,EAAIE,WAAWlF,IAAI,GACxC,OAAOiF,EAAeE,mBAEzBJ,KAAK,SAACK,GACHjC,EAAYiC,EAAOP,KAG/B,SAASQ,EAAgBR,EAAQS,EAAQC,EAAQC,GAC7C,IAAIC,EACJ,GAAID,GAAe9B,UAAW,CAC1B+B,EAAaC,EAAiB,IAAIC,UAC/B,CACHF,EAAaD,EAEjB,IAAII,EAAO,IAAIvE,MAAMwE,UAAUhB,EAAO,CAClCiB,aAAcR,EACdZ,QAASa,EACTQ,KAAMN,GACR,CACEO,OAAQ,uBAEZ/D,EAAYgE,KAAK,CACbC,MAAOrB,EACPO,MAAOE,EACPa,OAAQZ,EACRQ,KAAMN,IAEV7D,EAAQE,KAAO0B,KAAK4C,UAAUnE,GAC9BoB,EAAM6B,WAAWnB,IAAI6B,GACrBxB,EAAUL,IAAI6B,GAEd,OAAOA,EAEX,SAASzC,EAAYmC,EAAQT,GACzB,IAAMwB,EAAWC,WAAWC,QAAQ/E,EAAMwC,WAC1C,IAAMwC,EAAMH,EAAS,CAACI,SAAUnB,IAChC7E,EAAOuD,UAAYwC,EACnBzE,EAAauD,EACbtD,EAAa6C,EACb,IAAM6B,EAAKjF,SAASC,cAAc,6BAClCgF,EAAGjE,iBAAiB,YAAa,SAASkE,EAAMC,GACxCA,EAAM9D,iBACN,IAAI+D,EAAWpG,EACfoG,EAASC,MAAML,SAAW,WAC1B,IAAI5B,EAASkC,EAAUF,GACvB,IAAIG,EAASJ,EAAMK,MAAQpC,EAAOqC,KAClC,IAAIC,EAASP,EAAMQ,MAAQvC,EAAOwC,IAElCC,EAAOV,EAAMK,MAAOL,EAAMQ,OAC1B,SAASE,EAAOL,EAAOG,GACnBP,EAASC,MAAMI,KAAOD,EAAQD,EAAS,KACvCH,EAASC,MAAMO,IAAMD,EAASD,EAAS,KAE3C,SAASI,EAAYX,GACjBU,EAAOV,EAAMK,MAAOL,EAAMQ,OAE9B3F,SAASgB,iBAAiB,YAAa8E,GACvCV,EAASW,UAAY,WACjB/F,SAASmB,oBAAoB,YAAa2E,GAC1CV,EAASY,YAAc,KACvBZ,EAASW,UAAY,MAEzB/F,SAASiG,cAAgBC,EACzB,SAASA,IACL,OAEJ,SAASZ,EAAUa,GACf,IAAIC,EAAMD,EAAKE,wBACf,MAAO,CACPT,IAAKQ,EAAIR,IAAMU,YACfb,KAAMW,EAAIX,KAAOc,gBAKjCvH,EAAOgC,iBAAiB,QAAS,SAACI,GAC9B,GAAGA,EAAEG,OAAOiF,WAAa,gBAAiB,CACtCxH,EAAOuD,UAAY,QAChB,GAAInB,EAAEG,OAAOiF,WAAa,QAAS,CAClC,IAAIC,EAAUC,EAAgB,IAAIxC,MAClCN,EAAgBrD,EAAYD,EAAY,CACxCrC,KAAM+B,SAASC,cAAc,WAAWtB,MACxC8D,MAAOzC,SAASC,cAAc,YAAYtB,MAC1CgI,KAAM3G,SAASC,cAAc,WAAWtB,MACxCiI,UAAWH,IAEfzG,SAASC,cAAc,WAAWtB,MAAQ,GAC1CqB,SAASC,cAAc,YAAYtB,MAAQ,GAC3CqB,SAASC,cAAc,WAAWtB,MAAQ,GAC1CgD,EAAOrB,MAGf,SAASqB,EAAQkC,GACb,IAAInB,EAASC,EAAUC,gBACvB,IAAIiE,EAAU,IAAIpG,MAClBiC,EAAOG,QAAQ,SAAAC,GACX,GAAIe,GAAUf,EAAIC,WAAWC,MAAMqB,aAAc,CAC7CwC,EAAQrC,KAAK1B,EAAIC,WAAWC,MAAMC,YAG1C,IAAM6D,EAAcjC,WAAWC,QAAQ5E,EAAMqC,WAC7C,IAAMwE,EAASD,EAAYD,GAC3B7G,SAASC,cAAc,YAAYsC,UAAYwE,EAEnDnF,EAAM6B,WAAWpB,OAAOC,IAAI,QAAS,SAAUlB,GAC3C,IAAM4F,EAAO5F,EAAE7C,IAAI,UACnB0I,QAAQC,IAAIF,GACZ,GAAIA,EAAKjE,WAAWC,MAAMS,WAAY,MAE/B,CACH/B,EAAYsF,EAAKjE,WAAWC,MAAMqB,aAAcjD,EAAE7C,IAAI,WACtDoD,EAAOqF,EAAKjE,WAAWC,MAAMqB,iBAGrC,SAASJ,EAAiBK,GAEtB,IAAI6C,EAAK7C,EAAK8C,UACd,GAAID,EAAK,GAAIA,EAAK,IAAMA,EAExB,IAAIE,EAAK/C,EAAKgD,WAAa,EAC3B,GAAID,EAAK,GAAIA,EAAK,IAAMA,EAExB,IAAIE,EAAKjD,EAAKkD,cACd,IAAIC,EAAKnD,EAAKoD,aACd,GAAID,EAAK,GAAIA,EAAK,IAAMA,EAExB,IAAIE,EAAKrD,EAAKsD,aACd,GAAID,EAAK,GAAIA,EAAK,IAAMA,EAExB,IAAIE,EAAKvD,EAAKwD,WACd,GAAID,EAAK,GAAIA,EAAK,IAAMA,EAExB,OAAON,EAAK,IAAMF,EAAK,IAAMF,EAAK,KAAOU,EAAI,IAAKF,EAAI,IAAKF,EAE/D,SAASf,EAAgBpC,GAErB,IAAI6C,EAAK7C,EAAK8C,UACd,GAAID,EAAK,GAAIA,EAAK,IAAMA,EAExB,IAAIE,EAAK/C,EAAKgD,WAAa,EAC3B,GAAID,EAAK,GAAIA,EAAK,IAAMA,EAExB,IAAIE,EAAKjD,EAAKkD,cAEd,OAAOL,EAAK,IAAME,EAAK,IAAME,EAEjC,IAAI5E,EAAY,IAAI/C,MAAMmI,UAAU,CAChCC,wBAAyB,KACzBC,0BAA2B,KAC3B1D,OAAQ,qCACR2D,4BAA6B,0BAC7BC,gCAAiCzH,EACjC0H,8BAA+B,EAC/BC,iCAAkC,IAClCC,kCAAmC,IACnCC,wBAAyB,IAE7B3G,EAAM6B,WAAWnB,IAAIK,GACrB,GAAItC,EAAM,CACNA,EAAKwC,QAAQ,SAAA2F,GACT5E,EAAiB4E,EAAS/D,MAAO+D,EAAS7E,MAAO6E,EAAS9D,OAAQ8D,EAASlE,W","file":"index.fa9d37ea6bf248e76cc4.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import './css/style.css';\r\nymaps.ready(init);\r\n\r\nfunction init(){\r\n    \r\n    const modal = document.querySelector('#overlay');\r\n    const otziv = document.querySelector('#otziv');\r\n    const create = document.querySelector('.create');\r\n    \r\n    let storage = localStorage;\r\n    let data;\r\n    let thisAdress;\r\n    let thisCoords;\r\n    let placeObject = new Array;\r\n    const customItemContentLayout = ymaps.templateLayoutFactory.createClass(\r\n        '<div class=\"baloon-container\">' +\r\n            '<div class=\"baloon-container__top\">' +\r\n                '<div class=\"ballon_place ballon_our\"><strong>{{ properties.reviews.place|raw }}</strong></div>' +\r\n                '<a href=\"#\" id=\"links\" class=\"ballon_adres ballon_our\">{{ properties.adressReview|raw }}</a>' +\r\n                '<div class=\"ballon_area ballon_our\">{{ properties.reviews.area|raw }}</div>' +\r\n            '</div>'+\r\n            '<span class=\"ballon_time ballon_our\">{{ properties.date|raw }}</span>' +\r\n        '</div>', {\r\n            build: function () {\r\n                customItemContentLayout.superclass.build.call(this);\r\n                document.querySelector('#links').addEventListener('click', this.onCounterClick);\r\n            },\r\n            clear: function () {\r\n                document.querySelector('#links').removeEventListener('click', this.onCounterClick);\r\n                customItemContentLayout.superclass.clear.call(this);\r\n            },\r\n            onCounterClick: function (e) {\r\n                e.preventDefault();\r\n                let p = findName(e.target.previousElementSibling.textContent);\r\n                reviewModal(e.target.textContent, p);\r\n                eachLi(e.target.textContent);\r\n                myMap.balloon.close();\r\n            }\r\n        }\r\n    );\r\n    try {\r\n        data = JSON.parse(storage.data);\r\n    } catch (e) {\r\n        data = undefined;\r\n    }\r\n    const myMap = new ymaps.Map('maps', {\r\n        center: [55.7482921,37.5900027],\r\n        zoom: 15 \r\n    })\r\n    \r\n    myMap.events.add('click', function (e) {\r\n        if (create.innerHTML != '') {\r\n            create.innerHTML = '';\r\n            getModal (e);\r\n        } else {\r\n            getModal (e);\r\n        }\r\n    });\r\n    function findName (place) {\r\n        let keeper = clusterer.getGeoObjects();\r\n        let t;\r\n\r\n        keeper.forEach(obj => {\r\n            if (place == obj.properties._data.reviews.place) {\r\n                t = obj.geometry._coordinates;\r\n            }\r\n        }) \r\n        return t;\r\n    }\r\n    function getModal (e) {\r\n        let coords = e.get('coords'); \r\n            ymaps.geocode(coords)\r\n            .then(function (res) {\r\n                let firstGeoObject = res.geoObjects.get(0);    \r\n                return firstGeoObject.getAddressLine();;\r\n            })\r\n            .then((adres)=>{\r\n                reviewModal(adres, coords);            \r\n            })\r\n    }\r\n    function createPlacemark(coords, adress, arrRev, arcivedDate) {\r\n        let comentDate;\r\n        if (arcivedDate == undefined) {\r\n            comentDate = formatDateBaloon(new Date);\r\n        } else {\r\n            comentDate = arcivedDate;\r\n        };        \r\n        let mark = new ymaps.Placemark(coords,{\r\n            adressReview: adress,\r\n            reviews: arrRev,\r\n            date: comentDate\r\n        },{\r\n            preset: 'islands#violetIcon',\r\n        });\r\n        placeObject.push({\r\n            coord: coords,\r\n            adres: adress,\r\n            review: arrRev,\r\n            date: comentDate\r\n        });\r\n        storage.data = JSON.stringify(placeObject);\r\n        myMap.geoObjects.add(mark);\r\n        clusterer.add(mark);\r\n\r\n        return mark\r\n    }   \r\n    function reviewModal(adress, coords) {\r\n        const template = Handlebars.compile(modal.innerHTML);\r\n        const psd = template({position: adress});\r\n        create.innerHTML = psd;\r\n        thisAdress = adress;\r\n        thisCoords = coords;\r\n        const df = document.querySelector('.review-container__header');\r\n        df.addEventListener('mousedown', function moces(event) {\r\n                event.preventDefault();    \r\n                let dragElem = create;\r\n                dragElem.style.position = 'absolute';\r\n                let coords = getCoords(dragElem);\r\n                let shiftX = event.pageX - coords.left;\r\n                let shiftY = event.pageY - coords.top;\r\n                \r\n                moveAt(event.pageX, event.pageY);\r\n                function moveAt(pageX, pageY) {\r\n                    dragElem.style.left = pageX - shiftX + 'px';\r\n                    dragElem.style.top = pageY -  shiftY + 'px';\r\n                }\r\n                function onMouseMove(event) {\r\n                    moveAt(event.pageX, event.pageY);\r\n                } \r\n                document.addEventListener('mousemove', onMouseMove);\r\n                dragElem.onmouseup = ()=> {\r\n                    document.removeEventListener('mousemove', onMouseMove);\r\n                    dragElem.onmousemove = null;\r\n                    dragElem.onmouseup = null;\r\n                };\r\n                document.oncontextmenu = cmenu; \r\n                function cmenu() {\r\n                    return; \r\n                } \r\n                function getCoords(elem) {  \r\n                    var box = elem.getBoundingClientRect();\r\n                    return {\r\n                    top: box.top + pageYOffset,\r\n                    left: box.left + pageXOffset\r\n                    };\r\n                }\r\n        })\r\n    }  \r\n    create.addEventListener('click', (e)=>{\r\n        if(e.target.className == 'close-reviews') {\r\n            create.innerHTML = '';\r\n        } else if (e.target.className == 'i-btn') {      \r\n                let nowDate = formatDateModal(new Date);\r\n                createPlacemark(thisCoords, thisAdress, {\r\n                name: document.querySelector('.i-name').value,\r\n                place: document.querySelector('.i-place').value,\r\n                area: document.querySelector('.i-area').value,\r\n                dateModal: nowDate\r\n            });\r\n            document.querySelector('.i-name').value = '';\r\n            document.querySelector('.i-place').value = '';\r\n            document.querySelector('.i-area').value = '';\r\n            eachLi(thisAdress);\r\n        } \r\n    })\r\n    function eachLi (adress) {\r\n        let keeper = clusterer.getGeoObjects();\r\n        let arrTemp = new Array;\r\n        keeper.forEach(obj => {\r\n            if (adress == obj.properties._data.adressReview) {\r\n                arrTemp.push(obj.properties._data.reviews);\r\n            }\r\n        })        \r\n        const templateOtz = Handlebars.compile(otziv.innerHTML);\r\n        const psdOtz = templateOtz(arrTemp);\r\n        document.querySelector('.reviews').innerHTML = psdOtz;\r\n    }\r\n    myMap.geoObjects.events.add('click', function (e) {\r\n        const targ = e.get('target');\r\n        console.log(targ);\r\n        if (targ.properties._data.geoObjects) {\r\n            \r\n        } else {\r\n            reviewModal(targ.properties._data.adressReview, e.get('coords'));\r\n            eachLi(targ.properties._data.adressReview);\r\n        }\r\n    })\r\n    function formatDateBaloon(date) {\r\n\r\n        let dd = date.getDate();\r\n        if (dd < 10) dd = '0' + dd;\r\n      \r\n        let mm = date.getMonth() + 1;\r\n        if (mm < 10) mm = '0' + mm;\r\n      \r\n        let yy = date.getFullYear();\r\n        let se = date.getSeconds();\r\n        if (se < 10) se = '0' + se;\r\n\r\n        let mi = date.getMinutes();\r\n        if (mi < 10) mi = '0' + mi;\r\n\r\n        let hr = date.getHours();\r\n        if (hr < 10) hr = '0' + hr;\r\n        \r\n        return yy + '.' + mm + '.' + dd + '  ' + hr +':'+ mi +':'+ se;\r\n    }\r\n    function formatDateModal(date) {\r\n\r\n        let dd = date.getDate();\r\n        if (dd < 10) dd = '0' + dd;\r\n      \r\n        let mm = date.getMonth() + 1;\r\n        if (mm < 10) mm = '0' + mm;\r\n      \r\n        let yy = date.getFullYear();\r\n\r\n        return dd + '.' + mm + '.' + yy;\r\n    }\r\n    let clusterer = new ymaps.Clusterer({\r\n        clusterDisableClickZoom: true,\r\n        clusterOpenBalloonOnClick: true,\r\n        preset: 'islands#invertedVioletClusterIcons',\r\n        clusterBalloonContentLayout: 'cluster#balloonCarousel',\r\n        clusterBalloonItemContentLayout: customItemContentLayout,\r\n        clusterBalloonPanelMaxMapArea: 0,\r\n        clusterBalloonContentLayoutWidth: 200,\r\n        clusterBalloonContentLayoutHeight: 130,\r\n        clusterBalloonPagerSize: 5\r\n    });\r\n    myMap.geoObjects.add(clusterer);\r\n    if (data) {\r\n        data.forEach(thismark => {\r\n            createPlacemark (thismark.coord, thismark.adres, thismark.review, thismark.date);\r\n        })\r\n    }\r\n}\r\n"],"sourceRoot":""}